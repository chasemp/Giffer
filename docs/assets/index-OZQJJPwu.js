const o=e=>new Promise((r,n)=>{const a=new FileReader;a.onload=()=>{const{result:t}=a;t instanceof ArrayBuffer?r(new Uint8Array(t)):r(new Uint8Array)},a.onerror=t=>{n(Error(`File could not be read! Code=${t?.target?.error?.code||-1}`))},a.readAsArrayBuffer(e)}),s=async e=>{let r;if(typeof e=="string")/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e)?r=atob(e.split(",")[1]).split("").map(n=>n.charCodeAt(0)):r=await(await fetch(e)).arrayBuffer();else if(e instanceof URL)r=await(await fetch(e)).arrayBuffer();else if(e instanceof File||e instanceof Blob)r=await o(e);else return new Uint8Array;return new Uint8Array(r)};export{s as fetchFile};
